(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.i18n,a=window.wp.domReady;var n=e.n(a);const r=window.wp.blocks,s=window.wp.hooks,l=window.wp.primitives,i=window.wp.blockEditor,o=window.wp.components,d=window.ReactJSXRuntime;function c({label:e,onChange:t,value:a=""}){const[n]=(0,i.useSettings)("spacing.units"),r=(0,o.__experimentalUseCustomUnits)({spacingUnits:n,defaultValues:{px:200,em:20,rem:20,vw:20}}),[s,c]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(a),u=(0,i.isValueSpacingPreset)(a)?a:[s,c].join("");return(0,d.jsx)(l.View,{className:"tools-panel-item-spacing",children:(0,d.jsx)(i.__experimentalSpacingSizesControl,{values:{all:u},onChange:({all:e})=>{t(e)},label:e,sides:["all"],units:r,allowReset:!1,splitOnAxis:!1,showSideInLabel:!1})})}n()(()=>{(0,r.registerBlockVariation)("core/verse",{name:"badge",title:(0,t.__)("Glaser Badge","glaser"),description:(0,t.__)("An animated SVG badge with customized text.","glaser"),tags:["theme"],scope:["block","inserter","transform"],icon:"info-outline",attributes:{label:(0,t.__)("Badge Text Here","glaser"),qty:2,spacer:"路",width:"200px"},isActive:["label"]})}),(0,s.addFilter)("blocks.registerBlockType","glaser/badge/add-attributes",function(e,a){return"core/verse"===a&&(e.attributes={...e.attributes,label:{type:"string",default:(0,t.__)("Badge Text Here","glaser")},qty:{type:"number",default:2},spacer:{type:"string",default:"路"},width:{type:"string",default:"200px"}}),e}),(0,s.addFilter)("editor.BlockEdit","glaser/badge/add-inspector-controls",function(e){return a=>{const{name:n,attributes:r,setAttributes:s}=a;if("core/verse"!==n)return(0,d.jsx)(e,{...a});const{label:l,qty:u,spacer:p,width:g}=r;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("figure",{...(0,i.useBlockProps)({style:{width:g}}),children:(0,d.jsxs)("svg",{className:"transform-origin-center-center",viewBox:"0 0 100 100",overflow:"visible",children:[(0,d.jsx)("path",{id:"curve",d:"M 0 50 L 0 50 A 1 1 0 0 1 100 50 L 100 50 L 100 50 A 1 1 0 0 1 0 50 L 0 50",strokeWidth:"none",fill:"transparent"}),(0,d.jsx)("text",{children:(0,d.jsx)("textPath",{href:"#curve",startOffset:"0",dominantBaseline:"Hanging",children:`${l} ${p} `.repeat(u)})})]})}),(0,d.jsx)(i.InspectorControls,{children:(0,d.jsxs)(o.PanelBody,{title:(0,t.__)("Badge Details","glaser"),children:[(0,d.jsx)(o.PanelRow,{children:(0,d.jsx)(o.TextControl,{label:(0,t.__)("Text Label"),value:l,onChange:e=>s({label:e}),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),(0,d.jsx)(o.PanelRow,{children:(0,d.jsx)(o.__experimentalNumberControl,{label:(0,t.__)("Times"),value:u,min:1,max:10,onChange:e=>s({qty:parseInt(e,10)}),__next40pxDefaultSize:!0})}),(0,d.jsx)(o.PanelRow,{children:(0,d.jsx)(o.SelectControl,{label:(0,t.__)("Spacer"),value:p,options:[{label:(0,t.__)("None"),value:""},{label:"路",value:"路"},{label:"+",value:"+"},{label:"-",value:"-"}],onChange:e=>s({spacer:e}),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),(0,d.jsx)(o.PanelRow,{children:(0,d.jsx)(c,{label:(0,t.__)("Size"),value:g,onChange:e=>s({width:e})})})]})})]})}}),(0,s.addFilter)("blocks.getSaveElement","glaser/badge/get-replaced-markup",function(e,t,a){if(!e)return;if("core/verse"!==t.name)return e;const{label:n,qty:r,spacer:s,width:l}=a;return(0,d.jsx)("figure",{...i.useBlockProps.save({style:{width:(0,i.getSpacingPresetCssVar)(l)}}),children:(0,d.jsxs)("svg",{className:"transform-origin-center-center",viewBox:"0 0 100 100",overflow:"visible",children:[(0,d.jsx)("path",{id:"curve",d:"M 0 50 L 0 50 A 1 1 0 0 1 100 50 L 100 50 L 100 50 A 1 1 0 0 1 0 50 L 0 50",strokeWidth:"none",fill:"transparent"}),(0,d.jsx)("text",{children:(0,d.jsx)("textPath",{href:"#curve",startOffset:"0",dominantBaseline:"Hanging",children:`${n} ${s} `.repeat(r)})})]})})})})();